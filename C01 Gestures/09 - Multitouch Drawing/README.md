# 启用多点触摸

把 UIView 的 multipleTouchEnabled 属性设置为 YES，或在自己的视图中重写 isMultipleTouchEnabled 方法，即可启用多点触摸。

多点触摸并不会按照用户的手来分组。就单个的触摸事件来说，在按下手指、移动至松开的过程中，触摸对象与手指之间的对应次序保持不变（具体来说，同一个触摸对象在内存中的地址保持不变），虽然如此，但用户下次触摸屏幕时，触摸对象与手指之间不一定还能保持这套对应关系。如果需要把这些触摸对象分辨清楚，那么可以像本例样，构建一份以触摸对象为索引的字典。

在处理多点触摸这种操作方式时，不要执着于对手势的解析，而是应该把它理解为一些列在特定的时间内发生且独立的交互操作。你应该把每一个触摸对象都当成各自独立的东西来看待，并分别处理他们。

该程序遵循苹果的开发建议，记录下每个触摸对象的内存物理地址，并且不使用指向这些触摸对象的指针，也不对其做保留（retain）。本例采用的这套办法在各个版本的SDK中都能照常运行。这是因为 触摸-移动-释放 这个生命周期中，每个 UITouch 对象都驻留在其各自的内存地址处。苹果公司并不建议对 UITouch 示例做保留，所以，在本例中，我们把这些触摸对象转为整数值，并用这些整数值作为字典的键。

注意，新触摸发生时，系统会调用 touchesBegan:withEvent: 来开启新生命周期，这与目前仍在进行的触摸操作是互不干扰的，这些操作依然可以进入其各自的移动、结束及取消等阶段。

这与解决方案1-7做了改进，在每次发现有新的触摸操作时，并不会清楚原有的屏幕内容，而是把新绘制的内容叠放在屏幕原有的内容之上。该程序会把触摸信息收集到一个可以持续增长的可变数组里面，并可以根据用户的需求来清空此数组。